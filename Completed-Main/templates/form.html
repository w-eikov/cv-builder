<!DOCTYPE html>
<html>
<head>
    <title>Details</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='/styles.css') }}">
</head>

<body id='form-body'>

    <video autoplay muted loop id='index-video' class='video'>
        <source src='{{ url_for('static', filename='nature_vid.mp4') }}' type='video/mp4'>
    </video>

    <nav>
        <div class="logo"><a href="index.html">CV Generator</a></div>
    </nav>

    <div id='main-page'>

        <div id='main-page-items'>

            <form method="POST" action="/preview-cv" target="_blank">
                <h2>CV Information</h2>
                <label>Your Name:</label>
                <input type="text" name="name" required><br>

                <label>Email:</label>
                <input type="email" name="email" required><br>

                <label>Phone Number:</label>
                <input type="text" name="phone" required><br>

                <label>Skills (comma-separated):</label>
                <input type="text" name="skills"><br>

                <label>Experience 1:</label>
                <textarea name="experience" rows="6" placeholder="Company name, goals achieved, etc..."></textarea><br>

                <label>Experience 2:</label>
                <textarea name="experience" rows="6" placeholder="Company name, goals achieved, etc..."></textarea><br>

                <label>Experience 3:</label>
                <textarea name="experience" rows="6" placeholder="Company name, goals achieved, etc..."></textarea><br>

                <label>Interests:</label>
                <textarea name="interests" rows="4" placeholder="Keep brief - 1 or 2 lines"></textarea><br>
                
                <label>Goals (comma-separated):</label>
                <input type="text" name="goals"><br>

                <button type="submit">Preview CV</button>
            </form>

            <form method="POST" action="/download-cv">
                <input type="hidden" name="name" id="name">
                <input type="hidden" name="email" id="email">
                <input type="hidden" name="phone" id="phone">
                <input type="hidden" name="skills" id="skills">
                <input type="hidden" name="experience" id="experience">
                <input type="hidden" name="interests" id="interests">
                <input type="hidden" name="goals" id="goals">

                <button type="submit" onclick="populateDownloadFields()">Download PDF</button>
            </form>

        </div>

        <div id='main-page-items'>

            <button type="button" onclick="toggleCoverLetter()">Do you also want a cover letter?</button>

            <div id="cover-letter-section" style="display:none; margin-top:20px;">
                <form method="POST" target="_blank">
                    <h2>Cover Letter Information</h2>

                    <label>Your Name:</label><input type="text" name="cl_your_name"><br>
                    <label>Your Address:</label><input type="text" name="cl_your_address"><br>
                    <label>Your Phone Number:</label><input type="text" name="cl_your_phone"><br>
                    <label>Your Email Address:</label><input type="email" name="cl_your_email"><br><br>

                    <label>Recruiter’s Name:</label><input type="text" name="cl_recruiter_name"><br>
                    <label>Recruiter’s Title:</label><input type="text" name="cl_recruiter_title"><br>
                    <label>Bank Name:</label><input type="text" name="cl_bank_name"><br>
                    <label>Recruiter’s Address:</label><input type="text" name="cl_recruiter_address"><br><br>

                    <label>Greeting (Mr./Ms. Recruiter’s Name):</label><input type="text" name="cl_greeting"><br><br>

                    <label>Current Status (e.g. Year in School, Major, or Job Title):</label><input type="text" name="cl_status"><br>
                    <label>School / Company Name:</label><input type="text" name="cl_school_or_company"><br>
                    <label>Division (if applicable):</label><input type="text" name="cl_division"><br>
                    <label>Introduction Source (Friend, Contact, Presentation):</label><input type="text" name="cl_intro_source"><br>
                    <label>What impressed you (Culture, Environment, Bank Info):</label><input type="text" name="cl_impressed_by"><br>
                    <label>Position Applying For:</label><input type="text" name="cl_position"><br><br>

                    <label>Past Experience (Internships/Full-time roles):</label><textarea name="cl_experience" rows="4"></textarea><br>
                    <label>Key Learnings (Transactions, Analysis, Leadership, etc.):</label><textarea name="cl_learnings" rows="4"></textarea><br>
                    <label>Other Relevant Skills:</label><textarea name="cl_other_skills" rows="4"></textarea><br>
                    <label>High-Impact Project:</label><input type="text" name="cl_project"><br>
                    <label>Project Results:</label><textarea name="cl_project_results" rows="3"></textarea><br><br>

                    <label>Summary of Experience:</label><textarea name="cl_summary_experience" rows="3"></textarea><br>
                    <label>Summary of Skills:</label><textarea name="cl_summary_skills" rows="3"></textarea><br>
                    <label>Firm’s Track Record (Transactions, Clients):</label><input type="text" name="cl_firm_track_record"><br>
                    <label>Firm Name:</label><input type="text" name="cl_firm_name"><br>
                    <label>Position Name:</label><input type="text" name="cl_position_name"><br><br>

                    <label>Phone Number (for closing):</label><input type="text" name="cl_closing_phone"><br>
                    <label>Email (for closing):</label><input type="email" name="cl_closing_email"><br><br>

                    <label>Your Name (Signature):</label><input type="text" name="cl_signature"><br><br>

                    <button type="submit" formaction="/preview-coverletter">Preview Manual Cover Letter</button>
                    <button type="submit" formaction="/download-coverletter">Download Manual Cover Letter (PDF)</button>
                    <button type="submit" formaction="/download-improved-coverletter">✨ Download AI Improved Cover Letter (PDF)</button>
                    <button type="submit" formaction="/download-improved-coverletter-docx">✨ Download AI Improved Cover Letter (Word)</button>
                </form>
            </div>

        </div>

    </div>

    <footer>
        <div class="footer-links">
            <div>
                <img src="{{ url_for('static', filename='linkedin-logo.png') }}" alt="LinkedIn">
                <a href="https://www.linkedin.com/in/adeeb-haidari-4607b0326" target="_blank">Adeeb Haidari</a>
            </div>
            <div>
                <img src="{{ url_for('static', filename='linkedin-logo.png') }}" alt="LinkedIn">
                <a href="https://www.linkedin.com/in/beas-tinron?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app">Tinron Chan</a>
            </div>
            <div>
                <img src="{{ url_for('static', filename='linkedin-logo.png') }}" alt="LinkedIn">
                <a href="https://www.linkedin.com/in/sandu-patrik-89346630a?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app ">Alexandru Patrick Sandhu</a>
            </div>
            <div>
                <img src="{{ url_for('static', filename='github-logo.png') }}" alt="GitHub">
                <a href="https://github.com/Link101010" target="_blank">Adeeb Haidari</a>
            </div>
            <div>
                <img src="{{ url_for('static', filename='github-logo.png') }}" alt="GitHub">
                <a href="https://github.com/w-eikov" target="_blank">Tinron Chan</a>
            </div>
            <div>
                <img src="{{ url_for('static', filename='github-logo.png') }}" alt="GitHub">
                <a href="https://github.com/LudwigV7" target="_blank">Alexandru Patrick Sandhu</a>
            </div>
        </div>
    </footer>

    <script>
        function populateDownloadFields() {
            document.getElementById('name').value = document.querySelector('input[name="name"]').value;
            document.getElementById('email').value = document.querySelector('input[name="email"]').value;
            document.getElementById('phone').value = document.querySelector('input[name="phone"]').value;
            document.getElementById('skills').value = document.querySelector('input[name="skills"]').value;
            
            const experiences = Array.from(document.querySelectorAll('textarea[name="experience"]')).map(t => t.value).join("\n\n");
            document.getElementById('experience').value = experiences;

            document.getElementById('interests').value = document.querySelector('textarea[name="interests"]').value;
            document.getElementById('goals').value = document.querySelector('input[name="goals"]').value;
        }

        function toggleCoverLetter() {
            const section = document.getElementById("cover-letter-section");
            section.style.display = (section.style.display === "none") ? "block" : "none";
        }
    </script>

</body>
</html>
